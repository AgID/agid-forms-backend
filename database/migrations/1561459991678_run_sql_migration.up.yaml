- args:
    cascade: false
    sql: "CREATE OR REPLACE FUNCTION force_serial_id()\r\n  RETURNS trigger AS\r\n$$\r\nBEGIN\r\n
      \  IF TG_OP = 'UPDATE' AND NEW.id <> OLD.id THEN\r\n     RAISE EXCEPTION 'Cannot
      UPDATE with a different ID';\r\n   ELSIF TG_OP = 'INSERT' THEN\r\n     NEW.id
      = gen_random_uuid();\r\n   END IF;\r\n   RETURN NEW;\r\nEND\r\n$$ LANGUAGE plpgsql;\r\n\r\nDROP
      TRIGGER IF EXISTS force_serial_id ON public.node;\r\nDROP TRIGGER IF EXISTS
      force_serial_id ON public.user;\r\n\r\nCREATE TRIGGER force_serial_id BEFORE
      INSERT OR UPDATE ON public.node FOR EACH ROW EXECUTE PROCEDURE public.force_serial_id();\r\nCREATE
      TRIGGER force_serial_id BEFORE INSERT OR UPDATE ON public.user FOR EACH ROW
      EXECUTE PROCEDURE public.force_serial_id();\r\n\r\n"
  type: run_sql
