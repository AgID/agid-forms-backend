<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="767px" preserveAspectRatio="none" style="width:596px;height:767px;" version="1.1" viewBox="0 0 596 767" width="596px" zoomAndPan="magnify"><defs><filter height="300%" id="ffsl3dad5uook" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[194a92f280a7d2c2f105939ff984a7cf]
entity Frontend--><ellipse cx="420" cy="18" fill="#FEFECE" filter="url(#ffsl3dad5uook)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M420,26 L420,53 M407,34 L433,34 M420,53 L407,68 M420,53 L433,68 " fill="none" filter="url(#ffsl3dad5uook)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="388.5" y="87.9951">Frontend</text><!--MD5=[a6db0c926898241e7c594507fb3ca544]
entity Backend--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="206.5" y="249"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="201.5" y="254"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="201.5" y="275.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="216.5" y="271.9951">Backend</text><!--MD5=[2bc0dcbf3b22b1ecfc3cd8e30dfc8e51]
entity Traefik--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="387" y="152"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="382" y="157"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="382" y="178.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="397" y="174.9951">Traefik</text><!--MD5=[934be5aa35e521126cf9f9962138c324]
entity UploadServer--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="473" y="249"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="468" y="254"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="468" y="275.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="483" y="271.9951">UploadServer</text><!--MD5=[c2970b660fe3bc181236c7d3091f1b60]
entity Hasura--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="282" y="372"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="277" y="377"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="277" y="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="292" y="394.9951">Hasura</text><!--MD5=[89112a84c8daddb34abf4f068893e892]
entity PostgreSQL--><path d="M265.5,505 C265.5,495 316,495 316,495 C316,495 366.5,495 366.5,505 L366.5,530.2969 C366.5,540.2969 316,540.2969 316,540.2969 C316,540.2969 265.5,540.2969 265.5,530.2969 L265.5,505 " fill="#FEFECE" filter="url(#ffsl3dad5uook)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M265.5,505 C265.5,515 316,515 316,515 C316,515 366.5,515 366.5,505 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="275.5" y="531.9951">PostgreSQL</text><!--MD5=[429fcce4d786b45a80c7616bbab1f5b6]
entity Minio--><polygon fill="#FEFECE" filter="url(#ffsl3dad5uook)" points="496,362,542,362,549,383,562,383,562,417.5938,496,417.5938,496,362" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="496" x2="549" y1="383" y2="383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="506" y="402.9951">Minio</text><!--MD5=[cf1de150878ed5d4b495b897c72532ac]
entity RedisQueue--><path d="M53,617 L149,617 C154,617 154,630.1484 154,630.1484 C154,630.1484 154,643.2969 149,643.2969 L53,643.2969 C48,643.2969 48,630.1484 48,630.1484 C48,630.1484 48,617 53,617 " fill="#FEFECE" filter="url(#ffsl3dad5uook)" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M149,617 C144,617 144,630.1484 144,630.1484 C144,643.2969 149,643.2969 149,643.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="53" y="634.9951">RedisQueue</text><!--MD5=[a95bf183813e3f0e835a445e4023d3bb]
entity Worker1--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="6" y="720"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1" y="725"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1" y="746.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="16" y="742.9951">Worker1</text><!--MD5=[3e103bbe3d6564552074d4e02f83eadc]
entity Worker2--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="119" y="720"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="114" y="725"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="114" y="746.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="129" y="742.9951">Worker2</text><!--MD5=[2bf969cb3ffa3d9e3c250f940137d944]
entity RedisChannel--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="43" y="372"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="38" y="377"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="38" y="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="53" y="394.9951">RedisChannel</text><!--MD5=[1ae4108767cd867a39f7f639a9f8fe11]
entity NodeDispatcher--><rect fill="#FEFECE" filter="url(#ffsl3dad5uook)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="35" y="499.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="30" y="504.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="30" y="525.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="45" y="522.4951">NodeDispatcher</text><!--MD5=[20c247e6620f12d19ab7f6eceb934c79]
link Frontend to Traefik--><path d="M420,91.281 C420,112.035 420,136.149 420,151.945 " fill="none" id="Frontend-Traefik" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d17dfcdbac6beaf16a359c9dbaf0cd4]
link Traefik to Backend--><path d="M388.671,188.204 C357.318,205.421 309.367,231.752 278.096,248.924 " fill="none" id="Traefik-Backend" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5d0abff2ff4ef87c4edbede193aff0f7]
link Traefik to UploadServer--><path d="M439.739,188.204 C459.494,205.421 489.705,231.752 509.408,248.924 " fill="none" id="Traefik-UploadServer" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[04f4886dc359e50e58c3c1bd1d34581f]
link Traefik to Hasura--><path d="M418.368,188.164 C414.806,218.95 404.254,284.748 376,332 C366.709,347.538 352.029,361.589 339.516,371.852 " fill="none" id="Traefik-Hasura" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[460f8d5de094f332986f98ff0906d380]
link Hasura to PostgreSQL--><path d="M316,408.187 C316,429.245 316,465.157 316,489.817 " fill="none" id="Hasura-&gt;PostgreSQL" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="316,494.899,320,485.899,316,489.899,312,485.899,316,494.899" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[67bf41a0c68909cbb37d646852a44a47]
link UploadServer to Minio--><path d="M529,285.08 C529,303.612 529,333.633 529,356.655 " fill="none" id="UploadServer-&gt;Minio" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="529,361.75,533,352.75,529,356.75,525,352.75,529,361.75" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[338a94914b81ca9ad30d0371d236413e]
link Hasura to Backend--><path d="M307.413,371.733 C299.763,356.593 288.094,334.084 277,315 C272.074,306.526 266.352,297.404 261.234,289.47 " fill="none" id="Hasura-&gt;Backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="258.461,285.197,260.0042,294.9242,261.1825,289.3914,266.7153,290.5698,258.461,285.197" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="288" y="328.0669">callWebhook</text><!--MD5=[5786c8b263b0633ec246d103f001fff3]
link Backend to Hasura--><path d="M218.529,285.157 C201.622,297.622 185.373,315.187 196,332 C213.634,359.898 249.047,374.417 276.854,381.797 " fill="none" id="Backend-&gt;Hasura" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="281.951,383.094,274.2151,376.9984,277.1054,381.8612,272.2426,384.7514,281.951,383.094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="197" y="328.0669">upsertUser</text><!--MD5=[4d19adb9279d352cd1b91d5211fc1503]
link Backend to RedisChannel--><path d="M206.329,273.853 C179.219,279.801 144.705,291.642 123,315 C109.967,329.026 104.6287,350.44 102.456,366.63 " fill="none" id="Backend-&gt;RedisChannel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="101.834,371.902,106.8607,363.4325,102.4197,366.9364,98.9158,362.4954,101.834,371.902" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="124" y="328.0669">publishTo</text><!--MD5=[e45405d93f5c5c52990288314a406381]
reverse link RedisChannel to NodeDispatcher--><path d="M101,413.19 C101,437.717 101,476.709 101,499.118 " fill="none" id="RedisChannel&lt;-NodeDispatcher" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="101,408.187,97,417.187,101,413.187,105,417.187,101,408.187" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="102" y="461.0669">subscribeTo</text><!--MD5=[65eb7facbc5f0416b36fb0beac32946d]
link NodeDispatcher to RedisQueue--><path d="M101,535.766 C101,556.494 101,591.046 101,611.762 " fill="none" id="NodeDispatcher-&gt;RedisQueue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="101,616.964,105,607.964,101,611.964,97,607.964,101,616.964" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="102" y="583.0669">push</text><!--MD5=[5f20188c539353e6537448df15f686cb]
reverse link RedisQueue to Worker1--><path d="M92.0859,647.873 C81.6917,667.5479 64.6017,699.8968 54.12,719.737 " fill="none" id="RedisQueue&lt;-Worker1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="94.5761,643.16,86.8351,649.2491,92.2404,647.5809,93.9086,652.9862,94.5761,643.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="80" y="686.0669">pop</text><!--MD5=[6c06f91b75b0f42da5d7fa25cf0d5bbb]
reverse link RedisQueue to Worker2--><path d="M110.073,647.873 C120.653,667.5479 138.048,699.8968 148.717,719.737 " fill="none" id="RedisQueue&lt;-Worker2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="107.539,643.16,108.2789,652.981,109.9072,647.5636,115.3246,649.1919,107.539,643.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="133" y="686.0669">pop</text><!--MD5=[29f99131aee55bbe1c01410951934cf5]
@startuml
actor Frontend
component Backend
component Traefik
component UploadServer
component Hasura
database PostgreSQL
folder Minio
queue RedisQueue 
component Worker1
component Worker2
component RedisChannel
component NodeDispatcher

Frontend - - Traefik
Traefik - - Backend
Traefik - - UploadServer
Traefik - - Hasura
Hasura - -> PostgreSQL
UploadServer - -> Minio
Hasura - -> Backend : callWebhook
Backend - -> Hasura : upsertUser
Backend - -> RedisChannel : publishTo
RedisChannel <- - NodeDispatcher : subscribeTo
NodeDispatcher - -> RedisQueue : push
RedisQueue <- - Worker1 : pop
RedisQueue <- - Worker2 : pop
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>