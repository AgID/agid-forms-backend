<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="767px" preserveAspectRatio="none" style="width:518px;height:767px;" version="1.1" viewBox="0 0 518 767" width="518px" zoomAndPan="magnify"><defs><filter height="300%" id="f3n6lkry1rc22" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[194a92f280a7d2c2f105939ff984a7cf]
entity Frontend--><ellipse cx="144.587" cy="18" fill="#FEFECE" filter="url(#f3n6lkry1rc22)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M144.587,26 L144.587,53 M131.587,34 L157.587,34 M144.587,53 L131.587,68 M144.587,53 L157.587,68 " fill="none" filter="url(#f3n6lkry1rc22)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="113.087" y="87.9951">Frontend</text><!--MD5=[a6db0c926898241e7c594507fb3ca544]
entity Backend--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="104.0873" y="249"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="99.0873" y="254"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="99.0873" y="275.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="114.0873" y="271.9951">Backend</text><!--MD5=[2bc0dcbf3b22b1ecfc3cd8e30dfc8e51]
entity Traefik--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="66" x="111.587" y="152"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="106.587" y="157"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="106.587" y="178.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="121.587" y="174.9951">Traefik</text><!--MD5=[934be5aa35e521126cf9f9962138c324]
entity UploadServer--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="303.587" y="249"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="298.587" y="254"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="298.587" y="275.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="313.587" y="271.9951">UploadServer</text><!--MD5=[c2970b660fe3bc181236c7d3091f1b60]
entity Hasura--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="30.5873" y="372"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="25.5873" y="377"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="25.5873" y="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="40.5873" y="394.9951">Hasura</text><!--MD5=[89112a84c8daddb34abf4f068893e892]
entity PostgreSQL--><path d="M14.0873,505 C14.0873,495 64.5873,495 64.5873,495 C64.5873,495 115.0873,495 115.0873,505 L115.0873,530.2969 C115.0873,540.2969 64.5873,540.2969 64.5873,540.2969 C64.5873,540.2969 14.0873,540.2969 14.0873,530.2969 L14.0873,505 " fill="#FEFECE" filter="url(#f3n6lkry1rc22)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M14.0873,505 C14.0873,515 64.5873,515 64.5873,515 C64.5873,515 115.0873,515 115.0873,505 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="24.0873" y="531.9951">PostgreSQL</text><!--MD5=[429fcce4d786b45a80c7616bbab1f5b6]
entity Minio--><polygon fill="#FEFECE" filter="url(#f3n6lkry1rc22)" points="430.587,362,476.587,362,483.587,383,496.587,383,496.587,417.5938,430.587,417.5938,430.587,362" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="430.587" x2="483.587" y1="383" y2="383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="440.587" y="402.9951">Minio</text><!--MD5=[cf1de150878ed5d4b495b897c72532ac]
entity RedisQueue--><path d="M209.587,617 L305.587,617 C310.587,617 310.587,630.1484 310.587,630.1484 C310.587,630.1484 310.587,643.2969 305.587,643.2969 L209.587,643.2969 C204.587,643.2969 204.587,630.1484 204.587,630.1484 C204.587,630.1484 204.587,617 209.587,617 " fill="#FEFECE" filter="url(#f3n6lkry1rc22)" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M305.587,617 C300.587,617 300.587,630.1484 300.587,630.1484 C300.587,643.2969 305.587,643.2969 305.587,643.2969 " fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="209.587" y="634.9951">RedisQueue</text><!--MD5=[a95bf183813e3f0e835a445e4023d3bb]
entity Worker1--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="162.587" y="720"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="157.587" y="725"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="157.587" y="746.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="172.587" y="742.9951">Worker1</text><!--MD5=[3e103bbe3d6564552074d4e02f83eadc]
entity Worker2--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="275.587" y="720"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="270.587" y="725"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="270.587" y="746.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="285.587" y="742.9951">Worker2</text><!--MD5=[2bf969cb3ffa3d9e3c250f940137d944]
entity RedisChannel--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="199.587" y="372"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="194.587" y="377"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="194.587" y="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="209.587" y="394.9951">RedisChannel</text><!--MD5=[1ae4108767cd867a39f7f639a9f8fe11]
entity NodeDispatcher--><rect fill="#FEFECE" filter="url(#f3n6lkry1rc22)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="191.587" y="499.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="186.587" y="504.5"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="186.587" y="525.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="201.587" y="522.4951">NodeDispatcher</text><!--MD5=[20c247e6620f12d19ab7f6eceb934c79]
link Frontend to Traefik--><path d="M144.587,91.281 C144.587,112.035 144.587,136.149 144.587,151.945 " fill="none" id="Frontend-Traefik" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1d17dfcdbac6beaf16a359c9dbaf0cd4]
link Traefik to Backend--><path d="M144.587,188.424 C144.587,205.566 144.587,231.583 144.587,248.686 " fill="none" id="Traefik-Backend" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5d0abff2ff4ef87c4edbede193aff0f7]
link Traefik to UploadServer--><path d="M177.71,185.636 C216.345,202.707 280.122,230.887 320.971,248.937 " fill="none" id="Traefik-UploadServer" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[04f4886dc359e50e58c3c1bd1d34581f]
link Traefik to Hasura--><path d="M119.315,188.126 C86.526,212.055 30.8835,258.92 8.5873,315 C-0.1031,336.858 19.3333,357.853 37.641,371.86 " fill="none" id="Traefik-Hasura" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[460f8d5de094f332986f98ff0906d380]
link Hasura to PostgreSQL--><path d="M64.5873,408.187 C64.5873,429.245 64.5873,465.157 64.5873,489.817 " fill="none" id="Hasura-&gt;PostgreSQL" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="64.5873,494.899,68.5873,485.899,64.5873,489.899,60.5873,485.899,64.5873,494.899" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[67bf41a0c68909cbb37d646852a44a47]
link UploadServer to Minio--><path d="M403.331,285.203 C417.25,292.55 431.606,302.392 441.587,315 C450.997,326.886 456.387,342.715 459.472,356.682 " fill="none" id="UploadServer-&gt;Minio" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="460.507,361.733,462.6179,352.113,459.5028,356.8349,454.781,353.7197,460.507,361.733" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d533a9a9f5607d55d58d4581463ca4a4]
link UploadServer to Hasura--><path d="M339.486,288.985 C324.914,303.055 304.069,320.963 282.587,332 C266.67,340.178 162.136,365.785 103.7952,379.729 " fill="none" id="UploadServer-Hasura" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="98.6428,380.958,108.3255,382.7596,103.5062,379.7973,106.4684,374.9781,98.6428,380.958" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="343.425,285.127,334.1967,288.5676,339.8532,288.6259,339.7949,294.2825,343.425,285.127" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="309.587" y="328.0669">fileMetadata</text><!--MD5=[338a94914b81ca9ad30d0371d236413e]
link Hasura to Backend--><path d="M42.6409,371.841 C25.8488,356.576 7.5947,333.819 20.5873,315 C38.1341,289.584 71.3416,277.899 98.9783,272.534 " fill="none" id="Hasura-&gt;Backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="104.0688,271.603,94.4963,269.2861,99.1503,272.5019,95.9345,277.1558,104.0688,271.603" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="21.5873" y="328.0669">callWebhook</text><!--MD5=[5786c8b263b0633ec246d103f001fff3]
link Backend to Hasura--><path d="M134.669,285.064 C126.986,298.085 115.94,316.383 105.5873,332 C97.6193,344.019 88.2604,357.102 80.4975,367.698 " fill="none" id="Backend-&gt;Hasura" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="77.4974,371.778,86.0521,366.8978,80.4599,367.7501,79.6075,362.1578,77.4974,371.778" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="117.587" y="328.0669">upsertUser</text><!--MD5=[4d19adb9279d352cd1b91d5211fc1503]
link Backend to RedisChannel--><path d="M165.441,285.107 C175.511,293.709 187.555,304.514 197.587,315 C213.683,331.822 230.219,352.519 241.844,367.742 " fill="none" id="Backend-&gt;RedisChannel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="244.988,371.883,242.7293,362.2966,241.9636,367.9014,236.3588,367.1357,244.988,371.883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="213.587" y="328.0669">publishTo</text><!--MD5=[e45405d93f5c5c52990288314a406381]
reverse link RedisChannel to NodeDispatcher--><path d="M257.587,413.19 C257.587,437.717 257.587,476.709 257.587,499.118 " fill="none" id="RedisChannel&lt;-NodeDispatcher" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="257.587,408.187,253.587,417.187,257.587,413.187,261.587,417.187,257.587,408.187" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="258.587" y="461.0669">subscribeTo</text><!--MD5=[65eb7facbc5f0416b36fb0beac32946d]
link NodeDispatcher to RedisQueue--><path d="M257.587,535.766 C257.587,556.494 257.587,591.046 257.587,611.762 " fill="none" id="NodeDispatcher-&gt;RedisQueue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="257.587,616.964,261.587,607.964,257.587,611.964,253.587,607.964,257.587,616.964" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="258.587" y="583.0669">push</text><!--MD5=[5f20188c539353e6537448df15f686cb]
reverse link RedisQueue to Worker1--><path d="M248.673,647.873 C238.279,667.5479 221.189,699.8968 210.707,719.737 " fill="none" id="RedisQueue&lt;-Worker1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="251.163,643.16,243.4223,649.2494,248.8275,647.581,250.4959,652.9862,251.163,643.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="236.587" y="686.0669">pop</text><!--MD5=[6c06f91b75b0f42da5d7fa25cf0d5bbb]
reverse link RedisQueue to Worker2--><path d="M266.661,647.873 C277.24,667.5479 294.636,699.8968 305.304,719.737 " fill="none" id="RedisQueue&lt;-Worker2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="264.126,643.16,264.8672,652.9809,266.4948,647.5633,271.9124,649.1909,264.126,643.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="289.587" y="686.0669">pop</text><!--MD5=[12a05c8239f403e2323c4ef6d70dc592]
@startuml
actor Frontend
component Backend
component Traefik
component UploadServer
component Hasura
database PostgreSQL
folder Minio
queue RedisQueue 
component Worker1
component Worker2
component RedisChannel
component NodeDispatcher

Frontend - - Traefik
Traefik - - Backend
Traefik - - UploadServer
Traefik - - Hasura
Hasura - -> PostgreSQL
UploadServer - -> Minio
UploadServer <- -> Hasura : fileMetadata
Hasura - -> Backend : callWebhook
Backend - -> Hasura : upsertUser
Backend - -> RedisChannel : publishTo
RedisChannel <- - NodeDispatcher : subscribeTo
NodeDispatcher - -> RedisQueue : push
RedisQueue <- - Worker1 : pop
RedisQueue <- - Worker2 : pop
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>